{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\khadeer\\\\Desktop\\\\PROJECTS\\\\BLOGGING\\\\frontend\\\\src\\\\components\\\\Home.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Heart, Share2, Copy, Facebook, Twitter, Linkedin, Mail } from \"lucide-react\";\nimport { useAuth } from \"../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const [posts, setPosts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [likingPosts, setLikingPosts] = useState(new Set());\n  const [shareDropdown, setShareDropdown] = useState(null);\n  const shareRef = useRef(null);\n  const {\n    user,\n    token\n  } = useAuth();\n  useEffect(() => {\n    fetchPosts();\n  }, []);\n\n  // Close share dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (shareRef.current && !shareRef.current.contains(event.target)) {\n        setShareDropdown(null);\n      }\n    };\n    if (shareDropdown !== null) {\n      document.addEventListener('mousedown', handleClickOutside);\n    }\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [shareDropdown]);\n  const handleShare = (postId, type, post) => {\n    const postUrl = `${window.location.origin}/post/${postId}`;\n    const shareText = `Check out this post: \"${post.title}\" by ${post.author.username}`;\n    switch (type) {\n      case 'copy':\n        navigator.clipboard.writeText(postUrl).then(() => {\n          alert('Link copied to clipboard!');\n          setShareDropdown(null);\n        }).catch(() => {\n          alert('Failed to copy link');\n        });\n        break;\n      case 'twitter':\n        const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(postUrl)}`;\n        window.open(twitterUrl, '_blank');\n        setShareDropdown(null);\n        break;\n      case 'facebook':\n        const facebookUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(postUrl)}`;\n        window.open(facebookUrl, '_blank');\n        setShareDropdown(null);\n        break;\n      case 'linkedin':\n        const linkedinUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(postUrl)}`;\n        window.open(linkedinUrl, '_blank');\n        setShareDropdown(null);\n        break;\n      case 'email':\n        const emailUrl = `mailto:?subject=${encodeURIComponent(post.title)}&body=${encodeURIComponent(shareText + '\\n\\n' + postUrl)}`;\n        window.location.href = emailUrl;\n        setShareDropdown(null);\n        break;\n      case 'native':\n        if (navigator.share) {\n          navigator.share({\n            title: post.title,\n            text: shareText,\n            url: postUrl\n          }).then(() => {\n            setShareDropdown(null);\n          }).catch(error => {\n            console.log('Error sharing:', error);\n          });\n        }\n        break;\n      default:\n        break;\n    }\n  };\n  const toggleShareDropdown = postId => {\n    setShareDropdown(shareDropdown === postId ? null : postId);\n  };\n  const fetchPosts = async () => {\n    try {\n      setLoading(true);\n      const headers = {\n        'Content-Type': 'application/json'\n      };\n\n      // Add authorization header if user is logged in\n      if (token) {\n        headers['Authorization'] = `Bearer ${token}`;\n      }\n      const response = await fetch(\"http://localhost:5000/api/posts\", {\n        headers\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.message || \"Failed to fetch posts\");\n      }\n      setPosts(Array.isArray(data) ? data : []);\n    } catch (err) {\n      console.error(\"Error fetching posts:\", err);\n      setError(err.message || \"Failed to fetch posts\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fixed function to get profile picture for each post author\n  const getProfilePictureUrl = (authorUsername, profilePicture) => {\n    if (!profilePicture) {\n      return `https://ui-avatars.com/api/?name=${authorUsername}&background=random`;\n    }\n    return `http://localhost:5000/uploads/${profilePicture}`;\n  };\n  const handleLike = async postId => {\n    if (!user) {\n      alert(\"Please log in to like posts\");\n      return;\n    }\n    if (likingPosts.has(postId)) {\n      return; // Prevent multiple simultaneous requests\n    }\n    try {\n      setLikingPosts(prev => {\n        const newSet = new Set(prev);\n        newSet.add(postId);\n        return newSet;\n      });\n      if (!token) {\n        alert(\"Please log in to like posts\");\n        return;\n      }\n      const response = await fetch(`http://localhost:5000/api/posts/${postId}/like`, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      const data = await response.json();\n      if (!response.ok) {\n        throw new Error(data.message || \"Failed to toggle like\");\n      }\n\n      // Update the specific post in the posts array\n      setPosts(prevPosts => prevPosts.map(post => post.id === postId ? {\n        ...post,\n        like_count: data.like_count,\n        is_liked: data.is_liked\n      } : post));\n    } catch (err) {\n      console.error(\"Error toggling like:\", err);\n      alert(err.message || \"Failed to toggle like\");\n    } finally {\n      setLikingPosts(prev => {\n        const newSet = new Set(prev);\n        newSet.delete(postId);\n        return newSet;\n      });\n    }\n  };\n  const isShareSupported = typeof navigator !== 'undefined' && 'share' in navigator;\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center py-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-6 h-6 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-4xl mx-auto px-4 py-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700 text-center\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto px-4 py-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-8\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-semibold text-gray-900\",\n        children: \"Latest Posts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this), posts.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border border-gray-200 rounded-lg p-8 text-center\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-500\",\n        children: [\"No posts yet. \", user && \"Be the first to create one!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n      children: posts.map(post => /*#__PURE__*/_jsxDEV(\"article\", {\n        className: \"border border-gray-200 rounded-lg p-6 bg-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center border\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: getProfilePictureUrl(post.author.username, post.author.profile_picture),\n              alt: post.author.username,\n              className: \"w-9 h-9 rounded-full object-cover border border-gray-200\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm font-medium text-gray-900\",\n            children: post.author.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-900 mb-3\",\n          children: post.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-700 leading-relaxed\",\n            children: post.content.length > 150 ? `${post.content.substring(0, 150)}...` : post.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500\",\n            children: new Date(post.created_at).toLocaleDateString(\"en-US\", {\n              year: \"numeric\",\n              month: \"long\",\n              day: \"numeric\"\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleLike(post.id),\n                disabled: likingPosts.has(post.id),\n                className: \"disabled:cursor-not-allowed\",\n                children: /*#__PURE__*/_jsxDEV(Heart, {\n                  className: `w-4 h-4 cursor-pointer transition-colors ${post.is_liked ? 'text-red-500 fill-red-500' : 'text-gray-500 hover:text-red-500'} ${likingPosts.has(post.id) ? 'opacity-50' : ''}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-500\",\n                children: post.like_count\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              ref: shareRef,\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => toggleShareDropdown(post.id),\n                className: \"flex items-center gap-1\",\n                children: /*#__PURE__*/_jsxDEV(Share2, {\n                  className: \"w-4 h-4 text-gray-500 cursor-pointer hover:text-blue-500 transition-colors\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 21\n              }, this), shareDropdown === post.id && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute right-0 top-8 bg-white border border-gray-200 rounded-lg shadow-lg py-2 z-10 min-w-[200px]\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"px-3 py-2 text-sm font-medium text-gray-700 border-b border-gray-100\",\n                  children: \"Share this post\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 25\n                }, this), isShareSupported && /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleShare(post.id, 'native', post),\n                  className: \"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Share2, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 327,\n                    columnNumber: 29\n                  }, this), \"Share via...\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleShare(post.id, 'copy', post),\n                  className: \"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Copy, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 27\n                  }, this), \"Copy link\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleShare(post.id, 'twitter', post),\n                  className: \"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Twitter, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 344,\n                    columnNumber: 27\n                  }, this), \"Share on Twitter\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleShare(post.id, 'facebook', post),\n                  className: \"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Facebook, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 352,\n                    columnNumber: 27\n                  }, this), \"Share on Facebook\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleShare(post.id, 'linkedin', post),\n                  className: \"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Linkedin, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 360,\n                    columnNumber: 27\n                  }, this), \"Share on LinkedIn\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleShare(post.id, 'email', post),\n                  className: \"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Mail, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 368,\n                    columnNumber: 27\n                  }, this), \"Share via Email\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 316,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 15\n        }, this)]\n      }, post.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 230,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"d+DBvNZR6/fs2j4ios9NRQZ0sDY=\", false, function () {\n  return [useAuth];\n});\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Heart","Share2","Copy","Facebook","Twitter","Linkedin","Mail","useAuth","jsxDEV","_jsxDEV","Home","_s","posts","setPosts","loading","setLoading","error","setError","likingPosts","setLikingPosts","Set","shareDropdown","setShareDropdown","shareRef","user","token","fetchPosts","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleShare","postId","type","post","postUrl","window","location","origin","shareText","title","author","username","navigator","clipboard","writeText","then","alert","catch","twitterUrl","encodeURIComponent","open","facebookUrl","linkedinUrl","emailUrl","href","share","text","url","console","log","toggleShareDropdown","headers","response","fetch","data","json","ok","Error","message","Array","isArray","err","getProfilePictureUrl","authorUsername","profilePicture","handleLike","has","prev","newSet","add","method","prevPosts","map","id","like_count","is_liked","delete","isShareSupported","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","src","profile_picture","alt","content","substring","Date","created_at","toLocaleDateString","year","month","day","onClick","disabled","ref","_c","$RefreshReg$"],"sources":["C:/Users/khadeer/Desktop/PROJECTS/BLOGGING/frontend/src/components/Home.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Heart, Share2, Copy, Facebook, Twitter, Linkedin, Mail, X } from \"lucide-react\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\n\r\ninterface Post {\r\n  id: number;\r\n  title: string;\r\n  content: string;\r\n  created_at: string;\r\n  author: {\r\n    username: string;\r\n    profile_picture?: string; // Add this field to the interface\r\n  };\r\n  like_count: number;\r\n  is_liked: boolean;\r\n}\r\n\r\nconst Home = () => {\r\n  const [posts, setPosts] = useState<Post[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [likingPosts, setLikingPosts] = useState<Set<number>>(new Set());\r\n  const [shareDropdown, setShareDropdown] = useState<number | null>(null);\r\n  const shareRef = useRef<HTMLDivElement>(null);\r\n  const { user, token } = useAuth();\r\n\r\n  useEffect(() => {\r\n    fetchPosts();\r\n  }, []);\r\n\r\n  // Close share dropdown when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (shareRef.current && !shareRef.current.contains(event.target as Node)) {\r\n        setShareDropdown(null);\r\n      }\r\n    };\r\n\r\n    if (shareDropdown !== null) {\r\n      document.addEventListener('mousedown', handleClickOutside);\r\n    }\r\n\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [shareDropdown]);\r\n\r\n  const handleShare = (postId: number, type: string, post: Post) => {\r\n    const postUrl = `${window.location.origin}/post/${postId}`;\r\n    const shareText = `Check out this post: \"${post.title}\" by ${post.author.username}`;\r\n    \r\n    switch (type) {\r\n      case 'copy':\r\n        navigator.clipboard.writeText(postUrl).then(() => {\r\n          alert('Link copied to clipboard!');\r\n          setShareDropdown(null);\r\n        }).catch(() => {\r\n          alert('Failed to copy link');\r\n        });\r\n        break;\r\n        \r\n      case 'twitter':\r\n        const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}&url=${encodeURIComponent(postUrl)}`;\r\n        window.open(twitterUrl, '_blank');\r\n        setShareDropdown(null);\r\n        break;\r\n        \r\n      case 'facebook':\r\n        const facebookUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(postUrl)}`;\r\n        window.open(facebookUrl, '_blank');\r\n        setShareDropdown(null);\r\n        break;\r\n        \r\n      case 'linkedin':\r\n        const linkedinUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(postUrl)}`;\r\n        window.open(linkedinUrl, '_blank');\r\n        setShareDropdown(null);\r\n        break;\r\n        \r\n      case 'email':\r\n        const emailUrl = `mailto:?subject=${encodeURIComponent(post.title)}&body=${encodeURIComponent(shareText + '\\n\\n' + postUrl)}`;\r\n        window.location.href = emailUrl;\r\n        setShareDropdown(null);\r\n        break;\r\n        \r\n      case 'native':\r\n        if (navigator.share) {\r\n          navigator.share({\r\n            title: post.title,\r\n            text: shareText,\r\n            url: postUrl,\r\n          }).then(() => {\r\n            setShareDropdown(null);\r\n          }).catch((error) => {\r\n            console.log('Error sharing:', error);\r\n          });\r\n        }\r\n        break;\r\n        \r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const toggleShareDropdown = (postId: number) => {\r\n    setShareDropdown(shareDropdown === postId ? null : postId);\r\n  };\r\n\r\n  const fetchPosts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const headers: HeadersInit = {\r\n        'Content-Type': 'application/json',\r\n      };\r\n      \r\n      // Add authorization header if user is logged in\r\n      if (token) {\r\n        headers['Authorization'] = `Bearer ${token}`;\r\n      }\r\n\r\n      const response = await fetch(\"http://localhost:5000/api/posts\", {\r\n        headers\r\n      });\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.message || \"Failed to fetch posts\");\r\n      }\r\n\r\n      setPosts(Array.isArray(data) ? data : []);\r\n    } catch (err: any) {\r\n      console.error(\"Error fetching posts:\", err);\r\n      setError(err.message || \"Failed to fetch posts\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fixed function to get profile picture for each post author\r\n  const getProfilePictureUrl = (authorUsername: string, profilePicture?: string) => {\r\n    if (!profilePicture) {\r\n      return `https://ui-avatars.com/api/?name=${authorUsername}&background=random`;\r\n    }\r\n    return `http://localhost:5000/uploads/${profilePicture}`;\r\n  };\r\n\r\n  const handleLike = async (postId: number) => {\r\n    if (!user) {\r\n      alert(\"Please log in to like posts\");\r\n      return;\r\n    }\r\n\r\n    if (likingPosts.has(postId)) {\r\n      return; // Prevent multiple simultaneous requests\r\n    }\r\n\r\n    try {\r\n      setLikingPosts(prev => {\r\n        const newSet = new Set(prev);\r\n        newSet.add(postId);\r\n        return newSet;\r\n      });\r\n      \r\n      if (!token) {\r\n        alert(\"Please log in to like posts\");\r\n        return;\r\n      }\r\n\r\n      const response = await fetch(`http://localhost:5000/api/posts/${postId}/like`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(data.message || \"Failed to toggle like\");\r\n      }\r\n\r\n      // Update the specific post in the posts array\r\n      setPosts(prevPosts => \r\n        prevPosts.map(post => \r\n          post.id === postId \r\n            ? { \r\n                ...post, \r\n                like_count: data.like_count,\r\n                is_liked: data.is_liked \r\n              }\r\n            : post\r\n        )\r\n      );\r\n\r\n    } catch (err: any) {\r\n      console.error(\"Error toggling like:\", err);\r\n      alert(err.message || \"Failed to toggle like\");\r\n    } finally {\r\n      setLikingPosts(prev => {\r\n        const newSet = new Set(prev);\r\n        newSet.delete(postId);\r\n        return newSet;\r\n      });\r\n    }\r\n  };\r\n\r\n  const isShareSupported = typeof navigator !== 'undefined' && 'share' in navigator;\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center py-12\">\r\n        <div className=\"w-6 h-6 border-2 border-gray-300 border-t-gray-600 rounded-full animate-spin\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"max-w-4xl mx-auto px-4 py-8\">\r\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700 text-center\">\r\n          {error}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mx-auto px-4 py-8\">\r\n      <div className=\"mb-8\">\r\n        <h1 className=\"text-2xl font-semibold text-gray-900\">Latest Posts</h1>\r\n      </div>\r\n\r\n      {posts.length === 0 ? (\r\n        <div className=\"border border-gray-200 rounded-lg p-8 text-center\">\r\n          <p className=\"text-gray-500\">\r\n            No posts yet. {user && \"Be the first to create one!\"}\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {posts.map((post) => (\r\n            <article\r\n              key={post.id}\r\n              className=\"border border-gray-200 rounded-lg p-6 bg-white\"\r\n            >\r\n              {/* Author section with profile picture and username */}\r\n              <div className=\"flex items-center gap-3 mb-4\">\r\n                <div className=\"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center border\">\r\n                  <img\r\n                    src={getProfilePictureUrl(post.author.username, post.author.profile_picture)}\r\n                    alt={post.author.username}\r\n                    className=\"w-9 h-9 rounded-full object-cover border border-gray-200\"\r\n                  />\r\n                </div>\r\n                <span className=\"text-sm font-medium text-gray-900\">\r\n                  {post.author.username}\r\n                </span>\r\n              </div>\r\n\r\n              {/* Title */}\r\n              <h2 className=\"text-lg font-semibold text-gray-900 mb-3\">\r\n                {post.title}\r\n              </h2>\r\n\r\n              {/* Content */}\r\n              <div className=\"mb-4\">\r\n                <p className=\"text-gray-700 leading-relaxed\">\r\n                  {post.content.length > 150\r\n                    ? `${post.content.substring(0, 150)}...`\r\n                    : post.content}\r\n                </p>\r\n              </div>\r\n\r\n              {/* Date and Icons */}\r\n              <div className=\"flex items-center justify-between\">\r\n                <div className=\"text-sm text-gray-500\">\r\n                  {new Date(post.created_at).toLocaleDateString(\"en-US\", {\r\n                    year: \"numeric\",\r\n                    month: \"long\",\r\n                    day: \"numeric\",\r\n                  })}\r\n                </div>\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"flex items-center gap-1\">\r\n                    <button\r\n                      onClick={() => handleLike(post.id)}\r\n                      disabled={likingPosts.has(post.id)}\r\n                      className=\"disabled:cursor-not-allowed\"\r\n                    >\r\n                      <Heart \r\n                        className={`w-4 h-4 cursor-pointer transition-colors ${\r\n                          post.is_liked\r\n                            ? 'text-red-500 fill-red-500' \r\n                            : 'text-gray-500 hover:text-red-500'\r\n                        } ${likingPosts.has(post.id) ? 'opacity-50' : ''}`}\r\n                      />\r\n                    </button>\r\n                    <span className=\"text-sm text-gray-500\">\r\n                      {post.like_count}\r\n                    </span>\r\n                  </div>\r\n                  \r\n                  {/* Share Button with Dropdown */}\r\n                  <div className=\"relative\" ref={shareRef}>\r\n                    <button\r\n                      onClick={() => toggleShareDropdown(post.id)}\r\n                      className=\"flex items-center gap-1\"\r\n                    >\r\n                      <Share2 className=\"w-4 h-4 text-gray-500 cursor-pointer hover:text-blue-500 transition-colors\" />\r\n                    </button>\r\n                    \r\n                    {/* Share Dropdown */}\r\n                    {shareDropdown === post.id && (\r\n                      <div className=\"absolute right-0 top-8 bg-white border border-gray-200 rounded-lg shadow-lg py-2 z-10 min-w-[200px]\">\r\n                        <div className=\"px-3 py-2 text-sm font-medium text-gray-700 border-b border-gray-100\">\r\n                          Share this post\r\n                        </div>\r\n                        \r\n                        {/* Native Share (if supported) */}\r\n                        {isShareSupported && (\r\n                          <button\r\n                            onClick={() => handleShare(post.id, 'native', post)}\r\n                            className=\"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2\"\r\n                          >\r\n                            <Share2 className=\"w-4 h-4\" />\r\n                            Share via...\r\n                          </button>\r\n                        )}\r\n                        \r\n                        <button\r\n                          onClick={() => handleShare(post.id, 'copy', post)}\r\n                          className=\"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2\"\r\n                        >\r\n                          <Copy className=\"w-4 h-4\" />\r\n                          Copy link\r\n                        </button>\r\n                        \r\n                        <button\r\n                          onClick={() => handleShare(post.id, 'twitter', post)}\r\n                          className=\"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2\"\r\n                        >\r\n                          <Twitter className=\"w-4 h-4\" />\r\n                          Share on Twitter\r\n                        </button>\r\n                        \r\n                        <button\r\n                          onClick={() => handleShare(post.id, 'facebook', post)}\r\n                          className=\"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2\"\r\n                        >\r\n                          <Facebook className=\"w-4 h-4\" />\r\n                          Share on Facebook\r\n                        </button>\r\n                        \r\n                        <button\r\n                          onClick={() => handleShare(post.id, 'linkedin', post)}\r\n                          className=\"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2\"\r\n                        >\r\n                          <Linkedin className=\"w-4 h-4\" />\r\n                          Share on LinkedIn\r\n                        </button>\r\n                        \r\n                        <button\r\n                          onClick={() => handleShare(post.id, 'email', post)}\r\n                          className=\"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2\"\r\n                        >\r\n                          <Mail className=\"w-4 h-4\" />\r\n                          Share via Email\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </article>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}